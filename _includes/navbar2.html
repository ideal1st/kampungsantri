<!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button
        type="button"
        class="navbar-toggle"
        data-toggle="collapse"
        data-target="#bs-example-navbar-collapse-1"
        aria-controls="bs-example-navbar-collapse-1"
      >
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand page-scroll" href="{{ site.url }}"
        ><!--{{site.title}}--><img
          src="/img/logo.png"
          alt="Pesantren Kampung Santri"
      /></a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div>
        <ul class="nav navbar-nav navbar-right page-scroll scrollspy">
          {% assign links = site.data.nav2 %} {% for link in links %} {% assign
          class = nil %} {% if page.url == link.url %} {% assign class =
          'active' %} {% endif %} {% if link.sublinks %}
          <li class="dropdown {{ class }}">
            <a
              href="{{ site.url }}{{ link.url }}"
              class="dropdown-toggle"
              id="navbar-dropdown"
              data-toggle="dropdown"
              role="button"
              aria-haspopup="true"
              aria-expanded="false"
              >{{ link.title }}<span class="caret"></span
            ></a>

            <ul class="dropdown-menu {{ class }}">
              {% for sublink in link.sublinks %} {% if sublink.title ==
              'separator' %}
              <li role="separator" class="divider"></li>
              {% else %}
              <li>
                <a class="page-scroll" href="{{ site.url }}{{ sublink.url }}"
                  >{{ sublink.title }}</a
                >
              </li>
              {% endif %} {% endfor %}
            </ul>
          </li>
          {% else %}
          <li class="{{ class }}">
            <a
              class="page-scroll"
              href="{{ site.url }}{{ site.baseurl }}{{ link.url }}"
              >{{ link.title }}</a
            >
          </li>
          {% endif %} {% endfor %}
        </ul>
      </div>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container-fluid -->
</nav>

<script>
  let tabPesantren, tabPendidikan, tabPsb, tabAktivitas, currentWidth;

  const allAnchors = document.querySelectorAll("a");

  allAnchors.forEach((a) => {
    if (a.innerText.toLowerCase() === "pesantren") tabPesantren = a;
    else if (a.innerText.toLowerCase() === "pendidikan") tabPendidikan = a;
    else if (a.innerText.toLowerCase() === "psb") tabPsb = a;
    else if (a.innerText.toLowerCase() === "aktivitas") tabAktivitas = a;
  });

  /*  window.addEventListener("resize", function (event) {
    
  }); */

  if (window.innerWidth >= 768) {
    tabPesantren.addEventListener("click", () => {
      window.location.replace(tabPesantren.href);
    });
    tabPendidikan.addEventListener("click", () => {
      console.log(currentWidth);
      window.location.replace(tabPendidikan.href);
    });
    tabPsb.addEventListener("click", () => {
      window.location.replace(tabPsb.href);
    });
    tabAktivitas.addEventListener("click", () => {
      window.location.replace(tabAktivitas.href);
    });
  }

  tabPesantren.addEventListener("dblclick", () => {
    window.location.replace(tabPesantren.href);
  });
  tabPendidikan.addEventListener("dblclick", () => {
    console.log(currentWidth);
    window.location.replace(tabPendidikan.href);
  });
  tabPsb.addEventListener("dblclick", () => {
    window.location.replace(tabPsb.href);
  });
  tabAktivitas.addEventListener("dblclick", () => {
    window.location.replace(tabAktivitas.href);
  });
</script>
